@import 'tailwindcss';

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--radix-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--radix-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

@layer base {
  :root {
    --app-header-height: 64px;
    --background: 220 33% 98%;
    --foreground: 220 21% 15%;
    --card: 0 0% 100%;
    --card-foreground: 220 21% 15%;
    --popover: 0 0% 100%;
    --popover-foreground: 220 21% 15%;
    --primary: 212 92% 55%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 30% 95%;
    --secondary-foreground: 222 20% 24%;
    --muted: 214 26% 94%;
    --muted-foreground: 215 11% 46%;
    --accent: 208 44% 93%;
    --accent-foreground: 220 24% 18%;
    --destructive: 0 72% 52%;
    --destructive-foreground: 210 40% 98%;
    --border: 214 26% 86%;
    --input: 214 26% 86%;
    --ring: 212 92% 55%;
    --radius: 0.75rem;
  }

  .dark {
    --background: 224 27% 9%;
    --foreground: 210 28% 95%;
    --card: 224 24% 12%;
    --card-foreground: 210 28% 95%;
    --popover: 224 24% 12%;
    --popover-foreground: 210 28% 95%;
    --primary: 213 94% 66%;
    --primary-foreground: 222 32% 10%;
    --secondary: 223 18% 18%;
    --secondary-foreground: 212 23% 92%;
    --muted: 223 16% 17%;
    --muted-foreground: 216 12% 68%;
    --accent: 223 18% 20%;
    --accent-foreground: 212 23% 92%;
    --destructive: 0 68% 44%;
    --destructive-foreground: 212 23% 92%;
    --border: 223 16% 24%;
    --input: 223 16% 24%;
    --ring: 213 94% 66%;
  }

  * {
    @apply border-border;
  }

  html,
  body,
  #root {
    height: 100%;
    min-height: 100%;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'SF Pro Text', 'SF Pro Display', 'Avenir Next', 'Segoe UI',
      sans-serif;
    background-image:
      radial-gradient(circle at 20% 0%, rgba(37, 99, 235, 0.09), transparent 36%),
      radial-gradient(circle at 80% 10%, rgba(14, 165, 233, 0.08), transparent
            32%),
      linear-gradient(180deg, rgba(255, 255, 255, 0.78) 0%,
            rgba(255, 255, 255, 0.65) 30%, rgba(249, 251, 255, 0.52) 100%);
    background-attachment: fixed;
    overflow: hidden;
  }

  .dark body {
    background-image:
      radial-gradient(circle at 20% 0%, rgba(59, 130, 246, 0.2), transparent 40%),
      radial-gradient(circle at 85% 5%, rgba(14, 165, 233, 0.14), transparent
            34%),
      linear-gradient(180deg, rgba(15, 23, 42, 0.95) 0%, rgba(15, 23, 42, 0.92)
            100%);
  }
}

@layer components {
  .app-shell {
    height: 100vh;
    background-image:
      radial-gradient(circle at 10% 0%, rgba(56, 189, 248, 0.12), transparent 40%),
      radial-gradient(circle at 90% 5%, rgba(59, 130, 246, 0.14), transparent 38%);
  }

  .simulator-shell {
    display: flex;
    height: 100%;
    min-width: 0;
    min-height: 0;
    flex-direction: column;
    overflow: hidden;
    border: 1px solid hsl(var(--border) / 0.75);
    border-radius: 16px;
    background: hsl(var(--card) / 0.5);
    backdrop-filter: blur(14px);
  }

  .simulator-toolbar {
    background-image: linear-gradient(
      90deg,
      hsl(var(--card) / 0.95),
      hsl(var(--card) / 0.78)
    );
  }

  .simulator-process-pane {
    background-image: linear-gradient(
      180deg,
      hsl(var(--card) / 0.75),
      hsl(var(--card) / 0.55)
    );
  }

  .app-header {
    min-height: var(--app-header-height);
    background-image: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0.92) 0%,
      rgba(248, 250, 252, 0.88) 48%,
      rgba(241, 245, 249, 0.86) 100%
    );
  }

  .dark .app-header {
    background-image: linear-gradient(
      90deg,
      rgba(17, 24, 39, 0.92) 0%,
      rgba(15, 23, 42, 0.9) 48%,
      rgba(17, 24, 39, 0.9) 100%
    );
  }

  .app-shell::before {
    content: '';
    position: fixed;
    inset: 0;
    pointer-events: none;
    background-image: linear-gradient(
      to bottom,
      rgba(255, 255, 255, 0.14),
      transparent 22%
    );
    z-index: 0;
  }

  .glass-panel {
    @apply border border-border/70 bg-card/85 shadow-sm backdrop-blur-md;
    box-shadow: 0 12px 38px -24px rgba(15, 23, 42, 0.6);
  }
}

@media (max-width: 1024px) {
  .simulator-body {
    flex-direction: column;
    min-width: 0;
  }

  .simulator-process-pane {
    width: 100%;
    max-height: 48%;
    min-height: 270px;
  }
}

@layer utilities {
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    border-radius: 9999px;
    border: 2px solid transparent;
    background-clip: content-box;
    background-color: hsl(var(--border));
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground));
  }
}
